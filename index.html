<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Match 3 Solver</title>
    <meta name="description" content="A match 3 puzzle solver designed to solve the puzzles from Islands of Insight."/>

    <link rel="stylesheet" href="styles.css"/>
  </head>

  <body>
    <!-- Help Box -->
    <div id="helparea">
      <div id="helpareatext">
        <h2>How to Use</h2>
        <h3>Input</h3>

        <p>Change the width and height of the grid using the boxes above the grid. (1-32)</p>
        <p>Clicking a box changes the color of the box. Shift clicking cycles backwards.</p>
        <p>Alternatively, you may select a color from the Color Selector area.</p>
        <p>The selected color will then be used when clicking on the grid instead of cycling.</p>
        <p>White boxes are empty space and black boxes are immovable blockers.</p>
        <p>All other colors are objects that will match 3 normally.</p>

        <h3>Output</h3>
        <p>Hitting the solve button puts the website into "Solve Mode".</p>
        <p>Solve Mode lets you see each step of the process to solve the puzzle.</p>
        <p>You can use the next and previous buttons to navigate the different solution steps.</p>
        <p>Hitting the clear or solve buttons exits Solve Mode.</p>

        <h3>Other Information</h3>

        <p>The rules are the same as the game Islands of Insight.</p>
        <p>Tiles can only be swapped with another tile, so they can't be swapped with black or white.</p>
        <p>Tiles are removed if after a swap they're in a 3, 4, or 5 in a row.</p>
        <p>After tiles are removed from a swap, all remaining tiles fall down to fill any empty space.</p>
        <p>If gravity causes another match 3, 4, or 5, the process repeats until there are no more matches.</p>
        <p>The puzzle is considered solved when there are no colored blocks remaining.</p>

        <h3>Warning</h3>

        <p>Very large puzzles are sometimes unsolvable due to browser and static website limitations.</p>
      </div>
    </div>

    <!-- Functional Body -->
    <div id="maingrid">
      <div class="horizontalcenterwrapper" style="grid-row: 1; grid-column: 1/3;">
        <h1>Match 3 Solver</h1>
      </div>

      <!-- Width and Height Boxes -->
      <div class="horizontalcenterwrapper" style="grid-row: 2; grid-column: 1/3;">
        <div id="gridsizecontainer">
          <div class="sizeinput">
            <input type="number" min="1" max="32" value="8">
          </div>
    
          <div class="griditemsizecontainer">x</div>
    
          <div class="sizeinput">
            <input type="number" min="1" max="32" value="8">
          </div>
        </div>
      </div>
      
      <!-- The Tile Grid -->
      <div class="horizontalcenterwrapper" style="grid-row: 3; grid-column: 1/3;">
        <div id="tilecontainer">
        </div>
      </div>

      <!-- Buttons -->
      <div class="horizontalcenterwrapper" style="grid-row: 4; grid-column: 1/3;">
        <button id="clear">Clear</button>
        <button id="solve">Solve</button>
      </div>

      <!-- Previous and Next Buttons -->
      <div class="horizontalcenterwrapper" style="grid-row: 5; grid-column: 1/3;">
        <button id="previous" style="visibility: hidden;">Previous</button>
        <button id="next" style="visibility: hidden;">Next</button>
      </div>

      <!-- Color Selector -->
      <div class="horizontalcenterwrapper" style="grid-row: 6; grid-column: 1/3;">
        <h3>Color Selector</h3>
      </div>
      <div class="horizontalcenterwrapper" style="grid-row: 7; grid-column: 1/3;">
        <div id="colorselector" style="border: 2px solid black;">
          <div class="tile c0"></div>
          <div class="tile c1"></div>
          <div class="tile c2"></div>
          <div class="tile c3"></div>
          <div class="tile c4"></div>
          <div class="tile c5"></div>
          <div class="tile c-1"></div>
          <div class="tile c6"></div>
          <div class="tile c7"></div>
          <div class="tile c8"></div>
          <div class="tile c9"></div>
          <div class="tile c10"></div>
        </div>
      </div>

      <div id="helpdiamondhover" style="grid-row: 1; grid-column: 2; justify-self: right;"></div>
      <div id="helpdiamond" style="grid-row: 1; grid-column: 2; justify-self: right;"></div>
    </div>

    <!-- Credits -->
    <div id="credits">
      <div style="margin-right: 10px;">Made by Winterveil</div>
      <a href="https://www.buymeacoffee.com/seasonsveil"  target="_blank" rel="noopener noreferrer" style="margin-right: 10px;">Buy me a coffee</a>
      <a href="https://github.com/MiniMage7/MiniMage7.github.io"  target="_blank" rel="noopener noreferrer">Website and Project Files</a> 
    </div>


    <script src="solve.js"></script>
    <script src="website.js"></script>
  </body>
</html>
